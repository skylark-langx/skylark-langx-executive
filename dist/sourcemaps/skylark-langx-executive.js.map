{"version":3,"sources":["skylark-langx-executive.js"],"names":["define","skylark","attach","executive","cachedSetTimeout","cachedClearTimeout","process","defaultSetTimeout","Error","defaultClearTimeout","runTimeout","fun","setTimeout","e","call","this","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","length","concat","drainQueue","timeout","len","run","marker","runClearTimeout","Item","array","noop","nextTick","args","Array","arguments","i","push","prototype","apply","title","browser","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","name","binding","cwd","chdir","dir","umask","main"],"mappings":"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","file":"../skylark-langx-executive.js","sourcesContent":["define('skylark-langx-executive/executive',[\r\n    \"skylark-langx-ns\"\r\n],function(skylark){\r\n\treturn skylark.attach(\"langx.executive\");\r\n});\ndefine('skylark-langx-executive/process',[\r\n    \"./executive\"\r\n],function(executive){\r\n    // shim for using process in browser\r\n    var process = {};\r\n\r\n    // cached from whatever global is present so that test runners that stub it\r\n    // don't break things.  But we need to wrap it in a try catch in case it is\r\n    // wrapped in strict mode code which doesn't define any globals.  It's inside a\r\n    // function because try/catches deoptimize in certain engines.\r\n\r\n    var cachedSetTimeout;\r\n    var cachedClearTimeout;\r\n\r\n    function defaultSetTimeout() {\r\n        throw new Error('setTimeout has not been defined');\r\n    }\r\n\r\n    function defaultClearTimeout () {\r\n        throw new Error('clearTimeout has not been defined');\r\n    }\r\n\r\n    (function () {\r\n        try {\r\n            if (typeof setTimeout === 'function') {\r\n                cachedSetTimeout = setTimeout;\r\n            } else {\r\n                cachedSetTimeout = defaultSetTimeout;\r\n            }\r\n        } catch (e) {\r\n            cachedSetTimeout = defaultSetTimeout;\r\n        }\r\n        try {\r\n            if (typeof clearTimeout === 'function') {\r\n                cachedClearTimeout = clearTimeout;\r\n            } else {\r\n                cachedClearTimeout = defaultClearTimeout;\r\n            }\r\n        } catch (e) {\r\n            cachedClearTimeout = defaultClearTimeout;\r\n        }\r\n    } ())\r\n\r\n    function runTimeout(fun) {\r\n        if (cachedSetTimeout === setTimeout) {\r\n            //normal enviroments in sane situations\r\n            return setTimeout(fun, 0);\r\n        }\r\n        // if setTimeout wasn't available but was latter defined\r\n        if ((cachedSetTimeout === defaultSetTimeout || !cachedSetTimeout) && setTimeout) {\r\n            cachedSetTimeout = setTimeout;\r\n            return setTimeout(fun, 0);\r\n        }\r\n        try {\r\n            // when when somebody has screwed with setTimeout but no I.E. maddness\r\n            return cachedSetTimeout(fun, 0);\r\n        } catch(e){\r\n            try {\r\n                // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\r\n                return cachedSetTimeout.call(null, fun, 0);\r\n            } catch(e){\r\n                // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\r\n                return cachedSetTimeout.call(this, fun, 0);\r\n            }\r\n        }\r\n    }\r\n\r\n    function runClearTimeout(marker) {\r\n        if (cachedClearTimeout === clearTimeout) {\r\n            //normal enviroments in sane situations\r\n            return clearTimeout(marker);\r\n        }\r\n        // if clearTimeout wasn't available but was latter defined\r\n        if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\r\n            cachedClearTimeout = clearTimeout;\r\n            return clearTimeout(marker);\r\n        }\r\n        try {\r\n            // when when somebody has screwed with setTimeout but no I.E. maddness\r\n            return cachedClearTimeout(marker);\r\n        } catch (e){\r\n            try {\r\n                // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\r\n                return cachedClearTimeout.call(null, marker);\r\n            } catch (e){\r\n                // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\r\n                // Some versions of I.E. have different rules for clearTimeout vs setTimeout\r\n                return cachedClearTimeout.call(this, marker);\r\n            }\r\n        }\r\n    }\r\n    \r\n    var queue = [];\r\n    var draining = false;\r\n    var currentQueue;\r\n    var queueIndex = -1;\r\n\r\n    function cleanUpNextTick() {\r\n        if (!draining || !currentQueue) {\r\n            return;\r\n        }\r\n        draining = false;\r\n        if (currentQueue.length) {\r\n            queue = currentQueue.concat(queue);\r\n        } else {\r\n            queueIndex = -1;\r\n        }\r\n        if (queue.length) {\r\n            drainQueue();\r\n        }\r\n    }\r\n\r\n    function drainQueue() {\r\n        if (draining) {\r\n            return;\r\n        }\r\n        var timeout = runTimeout(cleanUpNextTick);\r\n        draining = true;\r\n\r\n        var len = queue.length;\r\n        while(len) {\r\n            currentQueue = queue;\r\n            queue = [];\r\n            while (++queueIndex < len) {\r\n                if (currentQueue) {\r\n                    currentQueue[queueIndex].run();\r\n                }\r\n            }\r\n            queueIndex = -1;\r\n            len = queue.length;\r\n        }\r\n        currentQueue = null;\r\n        draining = false;\r\n        runClearTimeout(timeout);\r\n    }\r\n\r\n    process.nextTick = function (fun) {\r\n        var args = new Array(arguments.length - 1);\r\n        if (arguments.length > 1) {\r\n            for (var i = 1; i < arguments.length; i++) {\r\n                args[i - 1] = arguments[i];\r\n            }\r\n        }\r\n        queue.push(new Item(fun, args));\r\n        if (queue.length === 1 && !draining) {\r\n            runTimeout(drainQueue);\r\n        }\r\n    };\r\n\r\n    // v8 likes predictible objects\r\n    function Item(fun, array) {\r\n        this.fun = fun;\r\n        this.array = array;\r\n    }\r\n    Item.prototype.run = function () {\r\n        this.fun.apply(null, this.array);\r\n    };\r\n    process.title = 'browser';\r\n    process.browser = true;\r\n    process.env = {};\r\n    process.argv = [];\r\n    process.version = ''; // empty string to avoid regexp issues\r\n    process.versions = {};\r\n\r\n    function noop() {}\r\n\r\n    process.on = noop;\r\n    process.addListener = noop;\r\n    process.once = noop;\r\n    process.off = noop;\r\n    process.removeListener = noop;\r\n    process.removeAllListeners = noop;\r\n    process.emit = noop;\r\n    process.prependListener = noop;\r\n    process.prependOnceListener = noop;\r\n\r\n    process.listeners = function (name) { return [] }\r\n\r\n    process.binding = function (name) {\r\n        throw new Error('process.binding is not supported');\r\n    };\r\n\r\n    process.cwd = function () { return '/' };\r\n    process.chdir = function (dir) {\r\n        throw new Error('process.chdir is not supported');\r\n    };\r\n    process.umask = function() { return 0; };\r\n\r\n    return executive.process = process;  \r\n\r\n});\ndefine('skylark-langx-executive/main',[\r\n\t\"./executive\",\r\n\t\"./process\"\r\n],function(executive){\r\n\treturn executive;\r\n});\ndefine('skylark-langx-executive', ['skylark-langx-executive/main'], function (main) { return main; });\n\n"]}